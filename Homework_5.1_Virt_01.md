# devops-netology
### Желобанов Егор DEVOPS-21

# Домашнее задание к занятию "5.1. Введение в виртуализацию".

### Задача 1.
Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

#### Решение:

* Аппаратная виртуализация - подразумевает наличие хостовой ОС, поверх которой запускается платформа виртуализации, эмулирующая работу аппаратных компонентов и управляющая аппаратными ресурсами в отношении гостевой ОС. 
* Паравиртуализация - гостевые ОС подготавливаются для исполнения в виртуализированной среде, для чего их ядро незначительно модифицируется, ОС взаимодействует с программой гипервизора.
* Виртуализация на основе ОС - гостевая система (контейнер) разделяет использование одного ядра хостовой операционной системы с другими гостевыми системами. Виртуальная машина представляет собой окружение для приложений, запускаемых изолированно. При этом контейнер и хостовая машина должны быть на одинаковом ядре.

### Задача 2.
Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:

* физические сервера,
* паравиртуализация,
* виртуализация уровня ОС.

Условия использования:

* Высоконагруженная база данных, чувствительная к отказу.
* Различные web-приложения.
* Windows системы для использования бухгалтерским отделом.
* Системы, выполняющие высокопроизводительные расчеты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

#### Решение:

* Высоконагруженная база данных, чувствительная к отказу. В данном случае лучше использовать физические серверы. Данное решение позволяет максимально использовать ресурсы хоста не разделяя их с другими VM.
* Различные web-приложения. Виртуализация уровня ОС. Данное решение обусловлено высокой скоростью развертывания и масштабирования, небольшое потребление ресурсов. Также можно добавить невысокую стоимость администрирования таких систем.
* Windows системы для использования бухгалтерским отделом. Паравиртуализация. В данном случае можно обеспечить повышенную отказоустойчивость и возможность расширения на уровне VM. Также отсутствуют жесткие требования по доступу к аппаратным ресурсам.
* Системы, выполняющие высокопроизводительные расчеты на GPU. Однозначно физические серверы. В данном случае важна производительность системы, а при использовании любого слоя виртуализации будет наблюдаться ее потеря.

### Задача 3.
Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

#### Решение:

1. Hyper-V или vSphere. Поддерживаются VM с Windows и Linux. Присутствует балансировка, репликация, создание резервных копий. Есть возможность поднимать кластер гипервизоров, а при работе 100 виртуальных машин это просто необходимо.
2. KVM. Решение является open source, поддерживаются Windows и Linux гостевые ОС для виртуальных машин, возможности по управлению сравнимы с коммерческими гипервизорами.
3. Hyper-V Server. Максимально совместимое с продуктами Microsoft бесплатное решение.
4. LXD. Содержит большую библиотеку с разными дистрибутивами.

### Задача 4.
Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

#### Решение:

Достаточно сложно управлять ВМ в такой среде, кроме того, данный способ виртуализации инфраструктуры является дорогостоящим и неэффективным в долгосрочной перспективе, поскольку по мере развития технологий, компании стремятся обеспечить легкость в управлении, совместимость различных систем и масштабируемость инфраструктуры.
Поэтому конечно лучше когда все ВМ находятся в одной среде, что приведет к снижению стоимости на обслуживание и к более стабильной работе в будущем. Если бы за мной был выбор, то я старался бы сделать систему на одной платформе, но при этом, возможно, не отказываясь от использования нескольких систем виртуализации одновременно. Например, использование Docker-контейнеров для микросервисов внутри ВМ.