# devops-netology

## HomeWork 3.2
### Желобанов Егор DEVOPS-21

1. Команда `cd` является встроенным типом команды, на что дает ответ вывод команды `type cd`:  
`cd is a shell builtin`
2. Альтернативой команде `grep <some_string> <some_file> | wc -l` является команда `grep <some_string> <some_file> -c`
3. Родителем для всех процессов в виртуальной машине Ubuntu 20.04 является процесс `systemd` с PID 1, что можно проверить
командой `pstree -p`
4. В первом терминале `/dev/pts/0` совершаем вызов командой `ls /some_folder 2>/dev/pts/1`. Во втором терминале `/dev/pts/1`
видим вывод `ls: cannot access '/some_folder': No such file or directory`.
5. Пример передачи команде файла на stdin и вывести ее stdout в другой файл:  
   - создаем 1-й файл `nano file1`, вводим в него строку "111", сохраняем;
   - создаем 2-й файл `touch file2`, в него ничего не вводим, файл пуст;
   - выполняем команду `cat <file1 >file2`;
   - смотрим командой `cat file2`, и видим что в нем появилась строка "111" из файла file1
6. Вывести получится с помощью перенаправления вывода `echo welcome to tty2 > /dev/tty2`. Вывод можно увидеть, перейдя в терминал tty2 (Ctrl-Alt-F2).
7. Первая команда `bash 5>&1` создаст дескриптор `5` для данной сессии и перенаправит его в `stdout`.  
   Вторая команда `echo netology > /proc/$$/fd/5` запишет строку `netology` в этот дескриптор, который перенаправит ее в `stdout`.
8. Получится, выполним команду, заведомо зная что у пользователя нет доступа в каталог `root`: `ls -l /root 5>&2 2>&1 1>&5 |grep denied -c`:  
   - 5>&2 - создали новый дескриптор и перенаправили его в stderr
   - 2>&1 - stderr перенаправили в stdout 
   - 1>&5 - из stdout перенаправили в новый дескриптор
9. Команда `cat /proc/$$/environ` выводит переменные окружения. Можно получить то же самое выполнив команду `env`, или `printenv`.  
   В результате выполнения команды `printenv` каждая переменная будет выведена с новой строки.
10. По адресу `/proc/<pid>/cmdline` находится файл только для чтения, который содержит полную информацию о процессе из командной строки.  
   По адресу `/proc/<pid>/exe` находится символическая ссылка на фактически работающую программу.
11. Выполнив команду `sudo cat /proc/cpuinfo | grep sse` определил что `SSE4_2` является наиболее старшей версией набора инструкций SSE моего процессора.
12. При попытке выполнить команду `tty` удаленно через SSH, к примеру `ssh localhost 'tty'`, tty не выделяется. 
    Для принудительного выделения `tty` будет необходимо использовать ключ `-t`, и тогда псевдотерминал выделится принудительно, даже если его нет у текущего SSH.
13. Выполнено. В качестве инструкции использовал [эту статью](https://itisgood.ru/2018/06/08/4-sposoba-sohranit-vypolnenie-komandy-posle-vyhoda-iz-seansa-ssh/).
14. Команда `tee` одновременно осуществляет вывод и в файл, указаный в качестве параметра, и в `stdout`. 
В нашем примере эта команда получает вывод из `stdin`, перенаправленный через `pipe` от `stdout` команды `echo`,
а так как команда запущена с полными правами от `sudo`, то соотвественно имеет и права на запись в файл.